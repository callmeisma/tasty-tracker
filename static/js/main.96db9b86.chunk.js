(this["webpackJsonptasty-tracker"]=this["webpackJsonptasty-tracker"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);a(49),a(50),a(72);var n=a(1),c=a.n(n),s=a(40),r=a.n(s),i=a(2),l=(a(77),a(6)),o=a(7),u=a(4),d=a.n(u),j=a(0),b=function(e){return Object(j.jsx)("nav",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-2 shadow",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsxs)(o.b,{to:"/",className:"navbar-brand col-md-3 col-lg-2 d-flex align-items-center py-0 justify-content-center",children:[Object(j.jsx)("i",{className:"bi bi-piggy-bank text-white px-3 m-0 fs-4"}),Object(j.jsxs)("h1",{className:"fs-4 m-0",children:["Tasty",Object(j.jsx)("span",{className:"text-danger",children:"Tracker"})]})]}),Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)("button",{className:"navbar-toggler d-md-none collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),void 0===e.user?Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)(o.b,{to:"/sign-up",className:"nav-link text-white px-3 py-0 header-link",children:"Sign Up"}),Object(j.jsx)(o.b,{to:"/sign-in",className:"nav-link text-white px-3 py-0 header-link",children:"Sign In"})]}):Object(j.jsx)("div",{className:"navbar-nav ",children:Object(j.jsx)("div",{className:"nav-item text-nowrap d-flex",children:Object(j.jsx)(o.b,{to:"/profile",className:"nav-link text-white px-3 py-0 header-link",children:e.user})})})]})]})})},m=a.p+"static/media/welcome.dca655fb.svg";var h=function(){return Object(j.jsxs)("main",{className:"h-100 d-flex flex-wrap justify-content-evenly align-items-center",children:[Object(j.jsxs)("div",{className:"d-flex flex-column",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"m-auto text-uppercase fs-1 fw-bold",children:"Got Tasty Trades?"}),Object(j.jsxs)("h1",{className:"m-auto text-uppercase fs-1 fw-bolder text-danger",children:["Tasty Track it!",Object(j.jsx)("i",{className:"bi bi-piggy-bank text-danger m-auto fs-1 ps-3"})]}),Object(j.jsx)("p",{className:"small",children:"Made with M.E.R.N. Stack"})]}),Object(j.jsxs)("div",{className:"d-flex flex-column py-3",children:[Object(j.jsxs)("p",{className:"m-auto",children:["Welcome to the ",Object(j.jsx)("b",{children:"tastier"})," way to ",Object(j.jsx)("b",{children:"track"})," and study your portfolio,"]}),Object(j.jsxs)("div",{children:["When you join tastytracker, you can:",Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"Store"})," your transactions"]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"View, Edit, and Filter"})," all transactions and trades"]}),Object(j.jsxs)("li",{children:["Quickly get biggest ",Object(j.jsx)("b",{children:"winners and lossers"})]}),Object(j.jsxs)("li",{children:["Know your history of ",Object(j.jsx)("b",{children:"returns"})]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("b",{children:"Compare"})," goals to reality"]})]})]}),Object(j.jsx)(o.b,{to:"/sign-up",children:Object(j.jsx)("button",{className:"btn btn-danger text-uppercase p-3 w-50 m-auto",children:"sign up for free!"})})]})]}),Object(j.jsx)("img",{src:m,className:"w-50 m-5",alt:"sign-in illustration"})]})},x=a.p+"static/media/signUp.afc55c8d.svg";var O=function(){return Object(j.jsxs)("main",{className:"h-100 d-flex flex-wrap justify-content-center align-items-center",children:[Object(j.jsx)("img",{src:x,className:"w-25 m-5",alt:"sign-in illustration"}),Object(j.jsxs)("form",{className:"d-flex flex-column m-5",children:[Object(j.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Sign Up"}),Object(j.jsx)("label",{className:"sr-only",children:"Name"}),Object(j.jsx)("input",{type:"text",id:"name",className:"form-control",placeholder:"Name",required:!0}),Object(j.jsx)("label",{className:"sr-only",children:"Email"}),Object(j.jsx)("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Email",required:!0}),Object(j.jsx)("label",{className:"sr-only",children:"Password"}),Object(j.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0}),Object(j.jsx)("button",{className:"btn btn-lg btn-danger btn-block my-2",type:"submit",children:"CREATE MY ACCOUNT"})]})]})},p=a.p+"static/media/signIn.41cdc24b.svg";var f=function(){return Object(j.jsxs)("main",{className:"h-100 d-flex flex-wrap justify-content-center align-items-center",children:[Object(j.jsx)("img",{src:p,className:"w-25 m-5",alt:"sign-in illustration"}),Object(j.jsxs)("form",{className:"d-flex flex-column m-5",children:[Object(j.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Sign In"}),Object(j.jsx)("label",{className:"sr-only",children:"Email"}),Object(j.jsx)("input",{type:"email",r:!0,id:"inputEmail",className:"form-control",placeholder:"Email",required:!0}),Object(j.jsx)("label",{className:"sr-only",children:"Password"}),Object(j.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0}),Object(j.jsx)("button",{className:"btn btn-lg btn-danger btn-block my-2",type:"submit",children:"SIGN IN"})]})]})},g=a(15),v=a(16),y=a.n(v),N=function(e){var t=e.filter((function(e){return"OPEN"===e.action.slice(-4)})),a=e.filter((function(e){return"CLOSE"===e.action.slice(-5)}));return function(e){for(var t=0;t<a.length;t++)for(var n=0;n<e.length;n++)for(var c=0;c<e[n].pairs.length;c++)a[t].symbol===e[n].pairs[c]&&a[t].strikeprice===e[n].transactions[c].strikeprice&&a[t].expiration===e[n].transactions[c].expiration&&a[t].callput===e[n].transactions[c].callput&&(e[n].transactions.push(a[t]),e[n].enddate=a[t].date,e[n].commissions+=a[t].commissions,e[n].fees+=a[t].fees,e[n].value+=a[t].value);return e}(function(e){for(var a=0;a<t.length;a++)for(var n=0;n<e.length;n++)t[a].order===e[n].openOrder&&(e[n].account=t[a].account,e[n].startdate=t[a].date,e[n].value+=t[a].value,e[n].commissions+=t[a].commissions,e[n].fees+=t[a].fees,e[n].symbol=t[a].symbol.match(/^\w+/g)[0],e[n].pairs.push(t[a].symbol),e[n].transactions.push(t[a])),e[n].pairs=Object(g.a)(new Set(e[n].pairs));return e}(function(){for(var e=[],a=Object.keys(t).map((function(e){return t[e].order})),n=Object(g.a)(new Set(a)),c=0;c<n.length;c++){var s={id:y()(),openOrder:n[c],commissions:0,fees:0,transactions:[],value:0,pairs:[]};e.push(s)}return e}()))},C=function(e){return Object(j.jsxs)("div",{className:"shadow p-3 mb-5 bg-body rounded p-3",children:[Object(j.jsx)("h3",{children:"Profile"}),Object(j.jsxs)("form",{className:"m-3 w-75",children:[Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("label",{htmlFor:"profileName",className:"input-group-text",children:"Name:"}),Object(j.jsx)("input",{type:"text",required:!0,className:"form-control",id:"profileName",placeholder:"account name",value:e.user})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("label",{htmlFor:"profileEmail",className:"input-group-text",children:"Email:"}),Object(j.jsx)("input",{type:"text",required:!0,className:"form-control",id:"profileEmail",placeholder:"profile email",value:e.email})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("label",{htmlFor:"profilePassword",className:"input-group-text",children:"Password:"}),Object(j.jsx)("input",{type:"number",id:"profilePassword",className:"form-control",value:e.password,required:!0})]}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Submit"})})]})]})},S=a(9),k=a.n(S),w=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1],d=function(e,t){return o.filter((function(e){return void 0!==e.enddate})).filter((function(a){return a.enddate.substring(0,4)===e&&a.enddate.substring(5,7)===t})).reduce((function(e,t){return e+t.value}),0)};return Object(n.useEffect)((function(){!function(t){if("all"===e.account)return u(e.trades);var a=e.trades.filter((function(e){return e.account===t}));u(a)}(e.account)}),[e]),Object(n.useEffect)((function(){!function(){for(var e=[],t=0;t<o.length;t++)void 0!==o[t].enddate&&e.push(o[t].enddate.substring(0,4));var a=Object(g.a)(new Set(e));s(a)}()}),[o]),Object(j.jsxs)("div",{className:"table-responsive shadow p-2 my-3 bg-body rounded",children:[Object(j.jsx)("p",{className:"text-muted",children:Object(j.jsx)("small",{children:"Realized Monthly Return Charts"})}),Object(j.jsxs)("table",{className:"table table-hover",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{}),Object(j.jsx)("td",{children:"Jan"}),Object(j.jsx)("td",{children:"Feb"}),Object(j.jsx)("td",{children:"Mar"}),Object(j.jsx)("td",{children:"Apr"}),Object(j.jsx)("td",{children:"May"}),Object(j.jsx)("td",{children:"Jun"}),Object(j.jsx)("td",{children:"Jul"}),Object(j.jsx)("td",{children:"Aug"}),Object(j.jsx)("td",{children:"Sept"}),Object(j.jsx)("td",{children:"Oct"}),Object(j.jsx)("td",{children:"Nov"}),Object(j.jsx)("td",{children:"Dec"})]})}),Object(j.jsx)("tbody",{children:c.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e},t+e),Object(j.jsxs)("td",{children:["$",d(e,"01").toFixed(2)]},t+e+"01"),Object(j.jsxs)("td",{children:["$",d(e,"02").toFixed(2)]},t+e+"02"),Object(j.jsxs)("td",{children:["$",d(e,"03").toFixed(2)]},t+e+"03"),Object(j.jsxs)("td",{children:["$",d(e,"04").toFixed(2)]},t+e+"04"),Object(j.jsxs)("td",{children:["$",d(e,"05").toFixed(2)]},t+e+"05"),Object(j.jsxs)("td",{children:["$",d(e,"06").toFixed(2)]},t+e+"06"),Object(j.jsxs)("td",{children:["$",d(e,"07").toFixed(2)]},t+e+"07"),Object(j.jsxs)("td",{children:["$",d(e,"08").toFixed(2)]},t+e+"08"),Object(j.jsxs)("td",{children:["$",d(e,"09").toFixed(2)]},t+e+"09"),Object(j.jsxs)("td",{children:["$",d(e,"10").toFixed(2)]},t+e+"10"),Object(j.jsxs)("td",{children:["$",d(e,"11").toFixed(2)]},t+e+"11"),Object(j.jsxs)("td",{children:["$",d(e,"12").toFixed(2)]},t+e+"12")]},t)}))})]})]})},D=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(0),l=Object(i.a)(r,2),o=l[0],u=l[1],d=Object(n.useState)(0),b=Object(i.a)(d,2),m=b[0],h=b[1];Object(n.useEffect)((function(){s([]);var t=function(t,a,n){var c=e.trades.filter((function(e){return e.startdate.substring(0,10)>=a&&void 0!==e.enddate&&e.enddate.substring(0,10)<=n}));return"all"===t?c:c.filter((function(e){return e.account===t}))}(e.account,e.startDate,e.endDate);Object.keys(t).map((function(e){s((function(a){return[].concat(Object(g.a)(a),[t[e].value])}))}))}),[e]),Object(n.useEffect)((function(){O(),p()}),[c]);var x=function(e){if(0===e){var t=c.filter((function(e){return e<=0}));return t.sort((function(e,t){return e-t})),t[0]||0}if(1===e){var a=c.filter((function(e){return e>=0}));return a.sort((function(e,t){return e-t})),a[a.length-1]||0}},O=function(){var e=c.reduce((function(e,t){return e+t}),0)/c.length;u(e)},p=function(){var e=c.filter((function(e){return e>=0})).length/c.length*100||0;h(e)};return Object(j.jsxs)("div",{className:"d-flex justify-content-evenly shadow p-2 my-3 bg-body rounded",children:[Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(j.jsx)("p",{children:"Average Trade Value"}),Object(j.jsxs)("h5",{children:["$",o.toFixed(2)]})]}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(j.jsx)("p",{children:"Biggest Loss"}),Object(j.jsxs)("h5",{children:["$",x(0)]})]}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(j.jsx)("p",{children:"Biggest Win"}),Object(j.jsxs)("h5",{children:["$",x(1)]})]}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(j.jsx)("p",{children:"Win Ratio"}),Object(j.jsxs)("h5",{children:[m.toFixed(2),"%"]})]})]})},M=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1];Object(n.useEffect)((function(){s(d(e.account,e.startDate,e.endDate)),u(b(e.account,e.startDate,e.endDate))}),[e]);var d=function(t,a,n){var c=e.trades.filter((function(e){return e.startdate.substring(0,10)>=a&&void 0!==e.enddate&&e.enddate.substring(0,10)<=n}));return"all"===t?c:c.filter((function(e){return e.account===t}))},b=function(t,a){var n=e.trades.filter((function(e){return e.startdate.substring(0,10)>=a}));return"all"===t?n:n.filter((function(e){return e.account===t}))},m=function(){return c.reduce((function(e,t){return e+t.value}),0)};return Object(j.jsxs)("div",{className:"d-flex justify-content-evenly shadow p-2 my-3 bg-body rounded",children:[Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(j.jsx)("p",{children:"Return"}),Object(j.jsxs)("h5",{children:[function(t,a,n){var c=[];c="all"===t?e.transactions.filter((function(e){return"Money Movement"===e.type})):e.transactions.filter((function(e){return e.account===t&&"Money Movement"===e.type}));var s=0;if("all"===t)for(var r=0;r<e.accounts.length;r++)s+=e.accounts[r].startingBalance;else for(var i=0;i<e.accounts.length;i++)e.accounts[i]===t&&(s+=e.accounts[i].startingBalance);for(var l=0;l<c.length;l++)s+=c[l].value;return m(e.account)/s*100}(e.account,e.startDate,e.endDate).toFixed(2),"%"]})]}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(j.jsx)("p",{children:"Realized P/L"}),Object(j.jsxs)("h5",{children:["$",m().toFixed(2)]})]}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(j.jsx)("p",{children:"Fees/Comms"}),Object(j.jsxs)("h5",{children:["$",c.reduce((function(e,t){return e+t.fees+t.commissions}),0).toFixed(2)]})]}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(j.jsx)("p",{children:"Unrealized P/L"}),Object(j.jsxs)("h5",{children:["$",o.reduce((function(e,t){return e+t.value}),0).toFixed(2)]})]}),Object(j.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(j.jsx)("p",{children:"Trades"}),Object(j.jsx)("h5",{children:d(e.account,e.startDate,e.endDate).length})]})]})},Y=function(e){var t=k()().format("YYYY-MM-DD"),a=Object(n.useState)("all"),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(t),o=Object(i.a)(l,2),u=o[0],d=o[1],b=Object(n.useState)(t),m=Object(i.a)(b,2),h=m[0],x=m[1];Object(n.useEffect)((function(){O("year-to-date")}),[]);var O=function(a){switch(!0){case"today"===a:document.getElementById("startDate").disabled=!0,document.getElementById("endDate").disabled=!0,d(k()().startOf("day").format("YYYY-MM-DD")),x(k()().format("YYYY-MM-DD"));break;case"week-to-date"===a:document.getElementById("startDate").disabled=!0,document.getElementById("endDate").disabled=!0,d(k()(t).startOf("week").format("YYYY-MM-DD")),x(k()(t).endOf("day").format("YYYY-MM-DD"));break;case"month-to-date"===a:document.getElementById("startDate").disabled=!0,document.getElementById("endDate").disabled=!0,d(k()(t).startOf("month").format("YYYY-MM-DD")),x(k()(t).format("YYYY-MM-DD"));break;case"last-month"===a:document.getElementById("startDate").disabled=!0,document.getElementById("endDate").disabled=!0,d(k()(t).subtract(1,"month").format("YYYY-MM-DD")),x(k()(t).endOf("day").format("YYYY-MM-DD"));break;case"year-to-date"===a:document.getElementById("startDate").disabled=!0,document.getElementById("endDate").disabled=!0,d(k()(t).startOf("year").format("YYYY-MM-DD")),x(k()(t).format("YYYY-MM-DD"));break;case"last-year"===a:document.getElementById("startDate").disabled=!0,document.getElementById("endDate").disabled=!0,d(k()(t).subtract(1,"year").format("YYYY-MM-DD")),x(k()().endOf("day").format("YYYY-MM-DD"));break;case"all-time"===a:var n=function(t){var a=[];if("all"===t)for(var n=0;n<e.trades.length;n++)a.push(e.trades[n].startdate,e.trades[n].enddate);else for(var c=e.trades.filter((function(e){return e.account===t})),s=0;s<c.length;s++)a.push(c[s].startdate,c[s].enddate);var r=a.filter((function(e){return void 0!==e})).sort();return[r[0],r[r.length-1]]}(s);document.getElementById("startDate").disabled=!0,document.getElementById("endDate").disabled=!0,d(k()(n[0]).format("YYYY-MM-DD")),x(k()(n[1]).format("YYYY-MM-DD"));break;case"custom"===a:document.getElementById("startDate").disabled=!1,document.getElementById("endDate").disabled=!1}};return Object(j.jsxs)("div",{className:"p-3 d-flex flex-column w-100",children:[Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsxs)("label",{className:"input-group-text",htmlFor:"inputAccount",children:["Account:",""]}),Object(j.jsxs)("select",{required:!0,className:"form-control",id:"inputAccount",onChange:function(e){return r(e.target.value.toLowerCase())},defaultValue:"all",children:[Object(j.jsx)("option",{value:"all",children:"All"},"all"),e.accounts.map((function(e){return Object(j.jsx)("option",{value:e.account,children:e.account},e.account)}))]})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("label",{className:"input-group-text",htmlFor:"startDate",children:"Date Range"}),Object(j.jsxs)("select",{required:!0,className:"form-control",id:"dateRange",defaultValue:"year-to-date",onChange:function(e){return O(e.target.value)},children:[Object(j.jsx)("option",{value:"today",children:"Today"}),Object(j.jsx)("option",{value:"week-to-date",children:"Week to Date"}),Object(j.jsx)("option",{value:"month-to-date",children:"Month to Date"}),Object(j.jsx)("option",{value:"last-month",children:"Last Month"}),Object(j.jsx)("option",{value:"year-to-date",children:"Year to Date"}),Object(j.jsx)("option",{value:"last-year",children:"Last Year"}),Object(j.jsx)("option",{value:"all-time",children:"All Time"}),Object(j.jsx)("option",{value:"custom",children:"Custom"})]}),Object(j.jsx)("label",{className:"input-group-text",htmlFor:"startDate",children:"Start Date"}),Object(j.jsx)("input",{className:"form-control",id:"startDate",name:"start-date",type:"date",value:u,onChange:function(e){return d(e.target.value)},disabled:!0}),Object(j.jsx)("label",{className:"input-group-text",htmlFor:"endDate",children:"End Date"}),Object(j.jsx)("input",{className:"form-control",id:"endDate",name:"end-date",type:"date",value:h,min:u,onChange:function(e){return x(e.target.value)},disabled:!0})]})]}),Object(j.jsx)(M,{account:s,startDate:u,endDate:h,accounts:e.accounts,trades:e.trades,transactions:e.transactions}),Object(j.jsx)(D,{trades:e.trades,account:s,startDate:u,endDate:h}),Object(j.jsx)(w,{trades:e.trades,account:s})]})},P=function(e){return Object(j.jsx)("nav",{id:"sidebarMenu",className:"bg-light ps-4 pe-3",children:Object(j.jsxs)("div",{className:"position-sticky pt-3",children:[Object(j.jsx)("div",{className:"m-auto d-flex justify-content-end",children:Object(j.jsx)("i",{className:"bi bi-arrow-left-square-fill"})}),Object(j.jsxs)("ul",{className:"nav flex-column",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(o.b,{className:"nav-link active","aria-current":"page",to:"/",children:[Object(j.jsx)("i",{className:"bi bi-house p-2"}),"Dashboard"]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(o.b,{className:"nav-link",to:"/trades",children:[Object(j.jsx)("i",{className:"bi bi-boxes p-2"}),"Trades"]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(o.b,{className:"nav-link",to:"/transactions",children:[Object(j.jsx)("i",{className:"bi bi-arrow-left-right p-2"}),"Transactions"]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(o.b,{className:"nav-link",to:"/accounts",children:[Object(j.jsx)("i",{className:"bi bi-bank p-2"}),"Accounts"]})})]}),Object(j.jsx)("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted",children:Object(j.jsx)("span",{children:"Add"})}),Object(j.jsxs)("ul",{className:"nav flex-column mb-2",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(o.b,{className:"nav-link",to:"/upload-transactions",children:[Object(j.jsx)("i",{className:"bi bi-upload p-2"}),"Upload CSV"]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(o.b,{className:"nav-link",to:"/create-transaction",children:[Object(j.jsx)("i",{className:"bi bi-plus-circle p-2"}),"Transaction"]})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsxs)(o.b,{className:"nav-link",to:"/create-account",children:[Object(j.jsx)("i",{className:"bi bi-plus-circle p-2","data-toggle":"collapse","data-target":".navbar-collapse"}),"Account"]})})]})]})})},q=function(e){var t=function(t,a){for(var n=a,c=0;c<e.transactions.length;c++)e.transactions[c].account===t&&(n+=e.transactions[c].value);return n.toFixed(2)},a=function(t){for(var a=0,n=0;n<e.transactions.length;n++)e.transactions[n].account===t&&(a+=e.transactions[n].fees);return a.toFixed(3)},n=function(t){for(var a=0,n=0;n<e.transactions.length;n++)e.transactions[n].account===t&&"--"!==e.transactions.commissions&&(a+=e.transactions[n].commissions);return a.toFixed(2)},c=function(t){for(var a=0,n=e.transactions.filter((function(e){return"Trade"===e.type&&e.account===t})),c=0;c<n.length;c++)"--"!==n[c].commissions&&(a+=n[c].value,a+=n[c].commissions,a+=n[c].fees);return a.toFixed(2)};return Object(j.jsxs)("div",{className:"p-3 w-100",children:[Object(j.jsx)("div",{className:"d-flex justify-content-between align-items-center pb-3",children:Object(j.jsxs)("h3",{className:"my-auto",children:["Accounts (",e.accounts.length,")"]})}),Object(j.jsxs)("table",{className:"table",children:[Object(j.jsx)("thead",{className:"thead-light",children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Account"},"account"),Object(j.jsx)("th",{children:"Start Balance"},"startBalance"),Object(j.jsx)("th",{children:"Commissions"},"commissions"),Object(j.jsx)("th",{children:"Fees"},"fees"),Object(j.jsx)("th",{children:"Balance"},"balance"),Object(j.jsx)("th",{children:"P/L"},"profitloss"),Object(j.jsx)("th",{children:"Actions"},"actions")]})}),Object(j.jsx)("tbody",{children:e.accounts.map((function(s){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:s.account},s.account),Object(j.jsx)("td",{children:s.startingBalance},s.startingBalance),Object(j.jsx)("td",{children:n(s.account)},y()()),Object(j.jsx)("td",{children:a(s.account)},y()()),Object(j.jsxs)("td",{children:["$",t(s.account,s.startingBalance)]},y()()),Object(j.jsxs)("td",{children:["$",c(s.account)]},y()()),Object(j.jsx)("td",{children:Object(j.jsxs)("div",{className:"btn-group",children:[Object(j.jsx)("button",{className:"btn btn-primary",children:Object(j.jsx)(o.b,{to:"/edit-account/"+s._id,children:Object(j.jsx)("i",{className:"bi bi-pen text-light"})})}),Object(j.jsx)("button",{onClick:function(){!function(t){d.a.delete("http://localhost:4000/accounts/"+t).then((function(e){return console.log(e.data)}));var a=e.accounts.filter((function(e){return e._id!==t}));e.setAccounts(a)}(s._id)},className:"btn btn-outline-danger",children:Object(j.jsx)("i",{className:"bi bi-trash"})})]})},s.account+"action")]},s._id)}))})]})]})},E=a(3),F=a(14),A=a(106),T=function(e){var t=e.filter,a=e.setFilter;return Object(j.jsx)("input",{value:t||"",onChange:function(e){return a(e.target.value)},placeholder:"Search",style:{width:"75%"},className:"p-1 text-center"})},B=a(47),I=["indeterminate"],H=c.a.forwardRef((function(e,t){var a=e.indeterminate,n=Object(B.a)(e,I),s=c.a.useRef(),r=t||s;return c.a.useEffect((function(){r.current.indeterminate=a}),[r,a]),Object(j.jsx)("input",Object(E.a)({type:"checkbox",ref:r},n))})),R=function(e){var t=c.a.useMemo((function(){return[{accessor:"account",Header:"Account"},{accessor:"date",Header:"Date",Cell:function(e){var t=e.value;return Object(A.a)(new Date(t),"MM/dd/yyyy")}},{accessor:"type",Header:"Type"},{accessor:"action",Header:"Action"},{accessor:"quantity",Header:"Quantity"},{accessor:"symbol",Header:"Symbol",Cell:function(e){return e.value.match(/^\w+/g)}},{accessor:"expiration",Header:"Expiration"},{accessor:"callput",Header:"C/P"},{accessor:"strikeprice",Header:"Strike"},{accessor:"avgprice",Header:"Avg"},{accessor:"value",Header:"Value"},{accessor:"commissions",Header:"Commissions"},{accessor:"fees",Header:"Fees"},{accessor:"order",Header:"Order"}]}),[]),a=c.a.useMemo((function(){return e.transactions})),n=Object(F.useTable)({columns:t,data:a},F.useGlobalFilter,F.useSortBy,F.usePagination,F.useRowSelect,(function(e){e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(j.jsx)(H,Object(E.a)({},t()))},Cell:function(e){var t=e.row;return Object(j.jsx)(H,Object(E.a)({},t.getToggleRowSelectedProps()))}}].concat(Object(g.a)(e))}))})),s=n.getTableProps,r=n.getTableBodyProps,i=n.headerGroups,l=n.page,u=n.nextPage,b=n.previousPage,m=n.canNextPage,h=n.canPreviousPage,x=n.pageOptions,O=n.gotoPage,p=n.pageCount,f=n.prepareRow,v=n.selectedFlatRows,N=n.state,C=n.setGlobalFilter,S=N.globalFilter,k=N.pageIndex;return Object(j.jsxs)("div",{className:"p-3 w-100",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center pb-3",children:[Object(j.jsxs)("h3",{className:"my-auto",children:["Transactions (",e.transactions.length,")"]}),Object(j.jsx)(T,{filter:S,setFilter:C})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){v.map((function(e){return d.a.delete("http://localhost:4000/transactions/"+e.original._id).then((function(e){return console.log(e.data)}))}))},className:"btn btn-primary m-2",children:"Delete Selected"}),Object(j.jsx)("button",{onClick:function(){d.a.delete("http://localhost:4000/transactions/").then((function(e){return console.log(e.data)}))},className:"btn btn-secondary m-2",children:"Delete All"})]}),Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[Object(j.jsxs)("p",{className:"m-auto",children:["Page"," ",Object(j.jsxs)("strong",{children:[k+1," of ",x.length]})]}),Object(j.jsxs)("p",{className:"m-auto",children:["| Go to page:"," ",Object(j.jsx)("input",{type:"number",defaultValue:k+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;O(t)},className:"p-1 text-center",style:{width:"50px"}})]}),Object(j.jsxs)("div",{className:"btn-group m-auto px-3",children:[Object(j.jsx)("button",{onClick:function(){return O(0)},disabled:!h,type:"button",className:"btn btn-outline-secondary",children:Object(j.jsx)("i",{className:"bi bi-skip-backward-fill"})}),Object(j.jsx)("button",{onClick:function(){return b()},disabled:!h,type:"button",className:"btn btn-outline-secondary",children:"Previous"}),Object(j.jsx)("button",{onClick:function(){return u()},disabled:!m,type:"button",className:"btn btn-outline-secondary",children:"Next"}),Object(j.jsx)("button",{onClick:function(){return O(p-1)},disabled:!m,type:"button",className:"btn btn-outline-secondary",children:Object(j.jsx)("i",{className:"bi bi-skip-forward-fill"})})]})]})]}),Object(j.jsx)("div",{className:"table-responsive",children:Object(j.jsxs)("table",Object(E.a)(Object(E.a)({},s()),{},{className:"table table-hover align-middle align-items-center",children:[Object(j.jsx)("thead",{children:i.map((function(e){return Object(j.jsxs)("tr",Object(E.a)(Object(E.a)({},e.getHeaderGroupProps()),{},{children:[e.headers.map((function(e){return Object(j.jsxs)("th",Object(E.a)(Object(E.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:"text-center",children:[e.render("Header"),Object(j.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(j.jsx)("i",{className:"bi bi-arrow-up"}):Object(j.jsx)("i",{className:"bi bi-arrow-down"}):""})]}))})),Object(j.jsx)("th",{children:"Actions"})]}))}))}),Object(j.jsx)("tbody",Object(E.a)(Object(E.a)({},r()),{},{children:l.map((function(e){return f(e),Object(j.jsxs)("tr",Object(E.a)(Object(E.a)({},e.getRowProps()),{},{id:e.original._id,children:[e.cells.map((function(e){return Object(j.jsx)("td",Object(E.a)(Object(E.a)({},e.getCellProps()),{},{className:"text-center",children:e.render("Cell")}))})),Object(j.jsx)("td",{children:Object(j.jsx)("div",{className:"btn-group",role:"group","aria-label":"actions",children:Object(j.jsx)(o.b,{className:"",to:"/edit-transaction/"+e.original._id,children:Object(j.jsx)("button",{className:"btn btn-primary nav-link",children:Object(j.jsx)("i",{className:"bi bi-pen text-light"})})})})},y()())]}))}))}))]}))})]})},$=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(0),l=Object(i.a)(r,2),o=l[0],u=l[1];Object(n.useEffect)((function(){d.a.get("http://localhost:4000/accounts/"+e.match.params.id).then((function(e){s(e.data.account),u(e.data.startingBalance)}))}),[]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Edit Account"}),Object(j.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault();var a={account:c,startingBalance:parseFloat(o)};d.a.post("http://localhost:4000/accounts/update/"+e.match.params.id,a).then((function(e){return console.log(e.data)})),window.location="/accounts"}(t)},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Account: "}),Object(j.jsx)("input",{type:"text",required:!0,className:"form-control",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Starting Balance: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:o,onChange:function(e){return u(e.target.value)}})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"submit",value:"Update Account Log",className:"btn btn-primary"})})]})]})},U=function(e){var t=k()().format("YYYY-MM-DD"),a=Object(n.useState)([]),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(),o=Object(i.a)(l,2),u=o[0],b=o[1],m=Object(n.useState)(t),h=Object(i.a)(m,2),x=h[0],O=h[1],p=Object(n.useState)(),f=Object(i.a)(p,2),g=f[0],v=f[1],y=Object(n.useState)(),N=Object(i.a)(y,2),C=N[0],S=N[1],w=Object(n.useState)(),D=Object(i.a)(w,2),M=D[0],Y=D[1],P=Object(n.useState)(),q=Object(i.a)(P,2),E=q[0],F=q[1],A=Object(n.useState)(),T=Object(i.a)(A,2),B=T[0],I=T[1],H=Object(n.useState)(),R=Object(i.a)(H,2),$=R[0],U=R[1],L=Object(n.useState)(),V=Object(i.a)(L,2),G=V[0],Q=V[1],_=Object(n.useState)(),J=Object(i.a)(_,2),W=J[0],z=J[1],K=Object(n.useState)(),X=Object(i.a)(K,2),Z=X[0],ee=X[1],te=Object(n.useState)(),ae=Object(i.a)(te,2),ne=ae[0],ce=ae[1],se=Object(n.useState)(),re=Object(i.a)(se,2),ie=re[0],le=re[1],oe=Object(n.useState)(),ue=Object(i.a)(oe,2),de=ue[0],je=ue[1],be=Object(n.useState)(),me=Object(i.a)(be,2),he=me[0],xe=me[1],Oe=Object(n.useState)(t),pe=Object(i.a)(Oe,2),fe=pe[0],ge=pe[1],ve=Object(n.useState)(),ye=Object(i.a)(ve,2),Ne=ye[0],Ce=ye[1],Se=Object(n.useState)(),ke=Object(i.a)(Se,2),we=ke[0],De=ke[1],Me=Object(n.useState)(),Ye=Object(i.a)(Me,2),Pe=Ye[0],qe=Ye[1];Object(n.useEffect)((function(){d.a.get("http://localhost:4000/transactions/"+e.match.params.id).then((function(e){console.log(e.data),b(e.data.account),O(e.data.date),v(e.data.type),S(e.data.action),Y(e.data.symbol),F(e.data.instrument),I(e.data.description),U(e.data.value),Q(e.data.quantity),z(e.data.avgprice),ee(e.data.commissions),ce(e.data.fees),le(e.data.multiplier),je(e.data.rootsymbol),xe(e.data.underlyingsymbol),ge(e.data.expiration),Ce(e.data.strikeprice),De(e.data.callput),qe(e.data.order)})),d.a.get("http://localhost:4000/accounts/").then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Edit Transaction Log"}),Object(j.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault();var a={account:u,date:x,type:g,action:C,symbol:M,instrument:E,description:B,value:$,quantity:G,avgprice:W,commissions:Z,fees:ne,multiplier:ie,rootsymbol:de,underlyingsymbol:he,expiration:fe,strikeprice:Ne,callput:we,order:Pe};d.a.post("http://localhost:4000/transactions/update/"+e.match.params.id,a).then((function(e){return console.log(e.data)})),window.location="/transactions"}(t)},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Account: "}),Object(j.jsx)("select",{required:!0,className:"form-control",value:u,onChange:function(e){return b(e.target.value)},children:s.map((function(e){return Object(j.jsx)("option",{value:e.account,children:e.account},e.account)}))})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Date: "}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"date",value:x.substring(0,10)||t,onChange:function(e){return O(e.target.value)}})})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Type: "}),Object(j.jsxs)("select",{required:!0,className:"form-control",value:g,onChange:function(e){return v(e.target.value)},children:[Object(j.jsx)("option",{value:"trade",children:"Trade"}),Object(j.jsx)("option",{value:"cash-transfer",children:"Cash Transfer"}),Object(j.jsx)("option",{value:"receive-deliver",children:"Receive | Deliver"}),Object(j.jsx)("option",{value:"dividend",children:"Dividend"}),Object(j.jsx)("option",{value:"interest",children:"Interest"}),Object(j.jsx)("option",{value:"other",children:"Other"})]})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Action: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:C,onChange:function(e){return S(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Symbol: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:M,onChange:function(e){return Y(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Instrument: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:E,onChange:function(e){return F(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Description: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:B,onChange:function(e){return I(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Value: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:$,onChange:function(e){return U(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Quantity: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:G,onChange:function(e){return b(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Avg Price: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:W,onChange:function(e){return z(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Commissions: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:Z,onChange:function(e){return ee(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Fees: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:ne,onChange:function(e){return ce(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Multiplier: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:ie,onChange:function(e){return le(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Root Symbol: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:de,onChange:function(e){return je(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Underlying Symbol: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:he,onChange:function(e){return xe(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Expiration: "}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"date",value:fe.substring(0,10)||t,onChange:function(e){return ge(e.target.value)}})})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Strike: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:Ne,onChange:function(e){return Ce(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Call-Put: "}),Object(j.jsxs)("select",{required:!0,className:"form-control",value:we,onChange:function(e){return De(e.target.value)},children:[Object(j.jsx)("option",{value:"Put",children:"Put"}),Object(j.jsx)("option",{value:"Call",children:"Call"})]})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Order: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:Pe,onChange:function(e){return qe(e.target.value)}})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"submit",value:"Update Transaction Log",className:"btn btn-primary"})})]})]})},L=a(42),V=a(43),G=a(5),Q=a(46),_=a(45),J=function(e){Object(Q.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).onChangeAccount=n.onChangeAccount.bind(Object(G.a)(n)),n.onChangeDate=n.onChangeDate.bind(Object(G.a)(n)),n.onChangeType=n.onChangeType.bind(Object(G.a)(n)),n.onChangeAction=n.onChangeAction.bind(Object(G.a)(n)),n.onChangeSymbol=n.onChangeSymbol.bind(Object(G.a)(n)),n.onChangeInstrument=n.onChangeInstrument.bind(Object(G.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(G.a)(n)),n.onChangeValue=n.onChangeValue.bind(Object(G.a)(n)),n.onChangeQuantity=n.onChangeQuantity.bind(Object(G.a)(n)),n.onChangeAvgPrice=n.onChangeAvgPrice.bind(Object(G.a)(n)),n.onChangeCommissions=n.onChangeCommissions.bind(Object(G.a)(n)),n.onChangeFees=n.onChangeFees.bind(Object(G.a)(n)),n.onChangeMultiplier=n.onChangeMultiplier.bind(Object(G.a)(n)),n.onChangeRootSymbol=n.onChangeRootSymbol.bind(Object(G.a)(n)),n.onChangeUnderlyingSymbol=n.onChangeUnderlyingSymbol.bind(Object(G.a)(n)),n.onChangeExpiration=n.onChangeExpiration.bind(Object(G.a)(n)),n.onChangeStrike=n.onChangeStrike.bind(Object(G.a)(n)),n.onChangeCallPut=n.onChangeCallPut.bind(Object(G.a)(n)),n.onChangeOrder=n.onChangeOrder.bind(Object(G.a)(n)),n.onSubmit=n.onSubmit.bind(Object(G.a)(n)),n.state={accounts:[],date:new Date,type:"Trade",action:"",symbol:"",instrument:"",description:"",value:"",quantity:0,avgprice:0,commissions:0,fees:0,multiplier:0,rootsymbol:"",underlyingsymbol:"",expiration:new Date,strike:0,callput:"Put",order:0},n}return Object(V.a)(a,[{key:"componentDidMount",value:function(){var e=this;d.a.get("http://localhost:4000/accounts/").then((function(t){t.data.length>0&&e.setState({accounts:t.data.map((function(e){return e.account})),account:t.data[0].account})}))}},{key:"onChangeAccount",value:function(e){this.setState({account:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onChangeType",value:function(e){this.setState({type:e.target.value})}},{key:"onChangeAction",value:function(e){this.setState({action:e.target.value})}},{key:"onChangeSymbol",value:function(e){this.setState({symbol:e.target.value})}},{key:"onChangeInstrument",value:function(e){this.setState({instrument:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeValue",value:function(e){this.setState({value:e.target.value})}},{key:"onChangeQuantity",value:function(e){this.setState({quantity:e.target.value})}},{key:"onChangeAvgPrice",value:function(e){this.setState({avgprice:e.target.value})}},{key:"onChangeCommissions",value:function(e){this.setState({commissions:e.target.value})}},{key:"onChangeFees",value:function(e){this.setState({fees:e.target.value})}},{key:"onChangeMultiplier",value:function(e){this.setState({multiplier:e.target.value})}},{key:"onChangeRootSymbol",value:function(e){this.setState({rootsymbol:e.target.value})}},{key:"onChangeUnderlyingSymbol",value:function(e){this.setState({underlyingsymbol:e.target.value})}},{key:"onChangeExpiration",value:function(e){this.setState({expiration:e})}},{key:"onChangeStrike",value:function(e){this.setState({strike:e.target.value})}},{key:"onChangeCallPut",value:function(e){this.setState({callput:e.target.value})}},{key:"onChangeOrder",value:function(e){this.setState({order:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={account:this.state.account,date:this.state.date,type:this.state.type,action:this.state.action,symbol:this.state.symbol,instrument:this.state.instrument,description:this.state.description,value:this.state.value,quantity:this.state.quantity,avgprice:this.state.avgprice,commissions:this.state.commissions,fees:this.state.fees,multiplier:this.state.multiplier,rootsymbol:this.state.rootsymbol,underlyingsymbol:this.state.underlyingsymbol,expiration:this.state.expiration,strike:this.state.strike,callput:this.state.callput,order:this.state.order};d.a.post("http://localhost:4000/transactions/add",t).then((function(e){return console.log(e.data)})),window.location="/transactions"}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"w-100",children:[Object(j.jsx)("h3",{children:"Create New Transaction Log"}),Object(j.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Account: "}),Object(j.jsx)("select",{required:!0,className:"form-control",value:this.state.account,onChange:this.onChangeAccount,children:this.state.accounts.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Date: "}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"date",selected:this.state.date,onChange:this.onChangeDate})})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Type: "}),Object(j.jsxs)("select",{required:!0,className:"form-control",value:this.state.type,onChange:this.onChangeType,children:[Object(j.jsx)("option",{value:"trade",children:"Trade"}),Object(j.jsx)("option",{value:"cash-transfer",children:"Cash Transfer"}),Object(j.jsx)("option",{value:"receive-deliver",children:"Receive | Deliver"}),Object(j.jsx)("option",{value:"dividend",children:"Dividend"}),Object(j.jsx)("option",{value:"interest",children:"Interest"}),Object(j.jsx)("option",{value:"other",children:"Other"})]})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Action: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.action,onChange:this.onChangeAction})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Symbol: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.symbol,onChange:this.onChangeSymbol})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Instrument: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.instrument,onChange:this.onChangeInstrument})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Description: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Value: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.value,onChange:this.onChangeValue})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Quantity: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.quantity,onChange:this.onChangeQuantity})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Avg Price: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.avgprice,onChange:this.onChangeAvgPrice})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Commissions: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.commissions,onChange:this.onChangeCommissions})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Fees: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.fees,onChange:this.onChangeFees})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Multiplier: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.multiplier,onChange:this.onChangeMultiplier})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Root Symbol: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.rootsymbol,onChange:this.onChangeRootSymbol})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Underlying Symbol: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.underlyingsymbol,onChange:this.onChangeUnderlyingSymbol})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Expiration: "}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"date",selected:this.state.expiration,onChange:this.onChangeExpiration})})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Strike: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.strike,onChange:this.onChangeStrike})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Call-Put: "}),Object(j.jsxs)("select",{required:!0,className:"form-control",value:this.state.callput,onChange:this.onChangeCallPut,children:[Object(j.jsx)("option",{value:"Put",children:"Put"}),Object(j.jsx)("option",{value:"Call",children:"Call"})]})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Order: "}),Object(j.jsx)("input",{required:!0,className:"form-control",value:this.state.order,onChange:this.onChangeOrder})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"submit",value:"Create Transaction Log",className:"btn btn-primary"})})]})]})}}]),a}(n.Component),W=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(0),r=Object(i.a)(s,2),l=r[0],o=r[1];return Object(j.jsxs)("div",{className:"shadow p-3 mb-5 bg-body rounded p-3 w-100",children:[Object(j.jsx)("h3",{children:"Create New Account"}),Object(j.jsxs)("form",{className:"m-3 w-75",onSubmit:function(e){return function(e){e.preventDefault();var t={account:a,startingBalance:l};d.a.post("http://localhost:4000/accounts/add",t).then((function(e){return console.log(e.data)})),window.location="/accounts"}(e)},children:[Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("label",{htmlFor:"accountName",className:"input-group-text",children:"Account:"}),Object(j.jsx)("input",{type:"text",required:!0,className:"form-control",id:"accountName",placeholder:"account name",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("label",{htmlFor:"balance",className:"input-group-text",children:"Start Balance:"}),Object(j.jsx)("input",{type:"number",id:"balance",className:"form-control",value:l,onChange:function(e){return o(e.target.value)},required:!0})]}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})},z=a(21),K=a.n(z),X=a(44),Z=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(""),m=Object(i.a)(b,2),h=m[0],x=m[1],O=Object(n.useState)([]),p=Object(i.a)(O,2),f=p[0],g=p[1],v=Object(n.useState)(0),y=Object(i.a)(v,2),N=y[0],C=y[1],S=function(e){var t=/(["'])(?:(?=(\\?))\2.)*?\1/g,a=e.match(t),n=e.match(t),c=e;if(null!==a)for(var s=0;s<a.length;s++)a[s]=a[s].replace(",",""),c=c.replace(n[s],a[s].slice(1,-1));return c},k=function(){for(var e=[],t=0;t<f.length;t++){var a={account:c,action:f[t].action||"",avgprice:Number(f[t].averageprice),callput:f[t].callorput||"",commissions:Number(f[t].commissions),date:f[t].date,description:f[t].description,expiration:f[t].expirationdate,fees:Number(f[t].fees),instrument:f[t].instrumenttype,multiplier:Number(f[t].multiplier),order:Number(f[t].ordernumber),quantity:Number(f[t].quantity),rootsymbol:f[t].rootsymbol,strikeprice:Number(f[t].strikeprice),symbol:f[t].symbol||"",type:f[t].type,underlyingsymbol:f[t].underlyingsymbol||"",value:Number(f[t].value)};e.push(a)}return e},w=function(){var t=Object(X.a)(K.a.mark((function t(a){var n,c,s,r,i;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=document.getElementById("progress"),c=k(),!(e.transactions.length>0)){t.next=19;break}if(!((s=c.filter((function(t){return!e.transactions.some((function(e){return t.account===e.account&&t.action===e.action&&t.avgprice===e.avgprice&&t.callput===e.callput&&t.commissions===e.commissions&&t.description===e.description&&t.fees===e.fees&&t.instrument===e.instrument&&t.multiplier===e.multiplier&&t.order===e.order&&t.rootsymbol===e.rootsymbol&&t.strikeprice===e.strikeprice&&t.symbol===e.symbol&&t.type===e.type&&t.underlyingsymbol===e.underlyingsymbol&&t.value===e.value}))}))).length>0)){t.next=16;break}r=0;case 7:if(!(r<s.length)){t.next=14;break}return n.style.display="block",t.next=11,d.a.post("http://localhost:4000/transactions/add",s[r]).then((function(e){return console.log(e.data)})).then(C(Math.round(r/(s.length-1)*100)));case 11:r++,t.next=7;break;case 14:t.next=17;break;case 16:return t.abrupt("return",alert("All transactions on file already exist"));case 17:t.next=27;break;case 19:i=0;case 20:if(!(i<c.length)){t.next=27;break}return n.style.display="block",t.next=24,d.a.post("http://localhost:4000/transactions/add",c[i]).then((function(e){return console.log(e.data)})).then(C(Math.round(i/(c.length-1)*100)));case 24:i++,t.next=20;break;case 27:d.a.get("http://localhost:4000/transactions/").then((function(t){e.setTransactions(t.data)})).catch((function(e){console.log(e)}));case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){d.a.get("http://localhost:4000/accounts/").then((function(e){e.data.length>0&&u(e.data.map((function(e){return e.account})))}))}),[]),Object(n.useEffect)((function(){!function(e){for(var t=e.split("\n"),a=[],n=t[0].replace("#","number").split(","),c=0;c<t.length;c++){for(var s={},r=S(t[c]).replace("--","").split(","),i=0;i<n.length;i++)s[n[i].toLowerCase().replace(/\s/g,"")]=r[i];a.push(s)}a=a.filter((function(e){return"Date"!==e.date&&void 0!==e.date&""!==e.date})),g(a)}(h)}),[h]),Object(n.useEffect)((function(){100===N&&setTimeout((function(){document.getElementById("progress").style.display="none",window.location="/transactions"}),1e3)}),[N]),Object(j.jsxs)("div",{className:"p-3 w-100",children:[Object(j.jsx)("h3",{children:"Upload Transactions"}),Object(j.jsxs)("form",{className:"m-3 w-75",id:"csv-form",onSubmit:function(e){return w(e)},children:[Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("label",{className:"input-group-text",htmlFor:"inputAccount",children:"Account"}),Object(j.jsxs)("select",{required:!0,className:"form-control",id:"inputAccount",value:c,onChange:function(e){return s(e.target.value)},children:[Object(j.jsx)("option",{value:"",disabled:!0,children:"Choose Account..."},"account"),o.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]})]}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsx)("input",{className:"form-control",type:"file",id:"formFile",onChange:function(e){return function(e){if(e.target.files&&e.target.files[0]){var t=new FileReader;t.readAsBinaryString(e.target.files[0]),t.onload=function(e){x(e.target.result)}}}(e)},required:!0})}),Object(j.jsx)("div",{className:"progress mb-3",id:"progress",style:{display:"none"},children:Object(j.jsxs)("div",{className:"progress-bar",role:"progressbar",style:{width:N+"%"},"aria-valuenow":N,"aria-valuemin":"0","aria-valuemax":"100",children:[N,"%"]})}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",form:"csv-form",children:"Submit"})]})]})},ee=function(e){var t=c.a.useMemo((function(){return[{accessor:"account",Header:"Account"},{accessor:"startdate",Header:"Start-Date",Cell:function(e){var t=e.value;return Object(A.a)(new Date(t),"MM/dd/yyyy")}},{accessor:"enddate",Header:"End-Date",Cell:function(e){var t=e.value;return t?Object(A.a)(new Date(t),"MM/dd/yyyy"):""}},{accessor:"symbol",Header:"Symbol",Cell:function(e){return e.value.match(/^\w+/g)}},{accessor:"value",Header:"Total"},{accessor:"fees",Header:"Fees"},{accessor:"commissions",Header:"Commissions"}]}),[]),a=c.a.useMemo((function(){return e.trades})),n=Object(F.useTable)({columns:t,data:a},F.useGlobalFilter,F.useSortBy,F.usePagination),s=n.getTableProps,r=n.getTableBodyProps,i=n.headerGroups,l=n.page,o=n.nextPage,u=n.previousPage,d=n.canNextPage,b=n.canPreviousPage,m=n.pageOptions,h=n.gotoPage,x=n.pageCount,O=n.prepareRow,p=n.state,f=n.setGlobalFilter,g=p.globalFilter,v=p.pageIndex;return Object(j.jsxs)("div",{className:"p-3 w-100",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center pb-3",children:[Object(j.jsxs)("h3",{className:"my-auto",children:["Trades (",e.trades.length,")"]}),Object(j.jsx)(T,{filter:g,setFilter:f})]}),Object(j.jsx)("div",{className:"d-flex justify-content-end",children:Object(j.jsxs)("div",{className:"d-flex align-items-center py-2",children:[Object(j.jsxs)("p",{className:"m-auto",children:["Page"," ",Object(j.jsxs)("strong",{children:[v+1," of ",m.length]})]}),Object(j.jsxs)("p",{className:"m-auto",children:["| Go to page:"," ",Object(j.jsx)("input",{type:"number",defaultValue:v+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;h(t)},className:"p-1 text-center",style:{width:"50px"}})]}),Object(j.jsxs)("div",{className:"btn-group m-auto px-3",children:[Object(j.jsx)("button",{onClick:function(){return h(0)},disabled:!b,type:"button",className:"btn btn-outline-secondary",children:Object(j.jsx)("i",{className:"bi bi-skip-backward-fill"})}),Object(j.jsx)("button",{onClick:function(){return u()},disabled:!b,type:"button",className:"btn btn-outline-secondary",children:"Previous"}),Object(j.jsx)("button",{onClick:function(){return o()},disabled:!d,type:"button",className:"btn btn-outline-secondary",children:"Next"}),Object(j.jsx)("button",{onClick:function(){return h(x-1)},disabled:!d,type:"button",className:"btn btn-outline-secondary",children:Object(j.jsx)("i",{className:"bi bi-skip-forward-fill"})})]})]})}),Object(j.jsx)("div",{className:"table-responsive",children:Object(j.jsxs)("table",Object(E.a)(Object(E.a)({},s()),{},{className:"table table-hover align-middle align-items-center",children:[Object(j.jsx)("thead",{children:i.map((function(e){return Object(j.jsx)("tr",Object(E.a)(Object(E.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsxs)("th",Object(E.a)(Object(E.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{className:"text-center",children:[e.render("Header"),Object(j.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(j.jsx)("i",{className:"bi bi-arrow-up"}):Object(j.jsx)("i",{className:"bi bi-arrow-down"}):""})]}))}))}))}))}),Object(j.jsx)("tbody",Object(E.a)(Object(E.a)({},r()),{},{children:l.map((function(e){return O(e),Object(j.jsx)("tr",Object(E.a)(Object(E.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(E.a)(Object(E.a)({},e.getCellProps()),{},{className:"text-center",children:e.render("Cell")}))}))}))}))}))]}))})]})};var te=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(i.a)(s,2),u=r[0],m=r[1],x=Object(n.useState)([]),p=Object(i.a)(x,2),g=p[0],v=p[1],y=Object(n.useState)("test"),S=Object(i.a)(y,2),k=S[0];return S[1],Object(n.useEffect)((function(){d.a.get("http://localhost:4000/transactions/").then((function(e){m(e.data)})).catch((function(e){console.log(e)})),d.a.get("http://localhost:4000/accounts/").then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){void 0!==u&&v(N(u))}),[u]),Object(j.jsx)(o.a,{children:Object(j.jsxs)("div",{className:"App d-flex flex-column",children:[Object(j.jsx)(b,{user:k}),k?Object(j.jsxs)("div",{className:"d-flex flex-column vh-100",children:[Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)(P,{}),Object(j.jsxs)("main",{className:"d-flex flex-grow-1 px-5 py-3",children:[Object(j.jsx)(l.a,{path:"/profile",exact:!0,render:function(){return Object(j.jsx)(C,{user:k})}}),Object(j.jsx)(l.a,{path:"/",exact:!0,render:function(){return Object(j.jsx)(Y,{accounts:a,trades:g,transactions:u})}}),Object(j.jsx)(l.a,{path:"/accounts",exact:!0,render:function(){return Object(j.jsx)(q,{accounts:a,setAccounts:c,transactions:u})}}),Object(j.jsx)(l.a,{path:"/transactions",exact:!0,render:function(){return Object(j.jsx)(R,{transactions:u,setTransactions:m})}}),Object(j.jsx)(l.a,{path:"/trades",exact:!0,render:function(){return Object(j.jsx)(ee,{trades:g})}}),Object(j.jsx)(l.a,{path:"/edit-transaction/:id",exact:!0,component:U}),Object(j.jsx)(l.a,{path:"/edit-account/:id",exact:!0,component:$}),Object(j.jsx)(l.a,{path:"/create-transaction",exact:!0,component:J}),Object(j.jsx)(l.a,{path:"/create-account",exact:!0,component:W}),Object(j.jsx)(l.a,{path:"/upload-transactions",exact:!0,render:function(){return Object(j.jsx)(Z,{transactions:u,setTransactions:m})}})]})]}),Object(j.jsxs)("footer",{class:"d-flex align-items-center justify-content-center mt-auto",children:[Object(j.jsx)("p",{class:"m-0 p-2",children:"Copyright \xa9 Ismael Fernandez"}),Object(j.jsx)("a",{href:"https://github.com/callmeisma/tasty-tracker",target:"_blank",children:Object(j.jsx)("i",{class:"fab fa-github","aria-hidden":"true"})})]})]}):Object(j.jsxs)("div",{className:"flex-fill justify-contents-center align-items-center bg-light bg-gradient text-dark",children:[Object(j.jsx)(l.a,{path:"/",exact:!0,component:h}),Object(j.jsx)(l.a,{path:"/sign-up",exact:!0,component:O}),Object(j.jsx)(l.a,{path:"/sign-in",exact:!0,component:f}),Object(j.jsx)(l.a,{path:"/tasty-tracker",exact:!0,component:h})]})]})})};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(te,{})}),document.getElementById("root"))},77:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.96db9b86.chunk.js.map